overwrite: true
generates:
  # Generate types for each service using individual cleaned schemas
  services/users/generated/graphql.ts:
    schema: services/users/schema.graphql
    plugins:
      - typescript
      - typescript-resolvers
    config:
      contextType: "@graphql-microservices/users#Context"
      scalars:
        DateTime: string

  services/products/generated/graphql.ts:
    schema: services/products/schema.graphql
    plugins:
      - typescript
      - typescript-resolvers
    config:
      contextType: "@graphql-microservices/products#Context"
      scalars:
        DateTime: string
        Decimal: number

  services/orders/generated/graphql.ts:
    schema: services/orders/schema.graphql
    plugins:
      - typescript
      - typescript-resolvers
    config:
      contextType: "@graphql-microservices/orders#Context"
      scalars:
        DateTime: string
        Decimal: number

  # Generate client types using combined schema
  shared/graphql/generated/client-types.ts:
    schema:
      - schemas/users.graphql
      - schemas/products.graphql
      - schemas/orders.graphql
    documents:
      # Look for GraphQL operations in client code
      - client/src/**/*.ts
      - client/src/**/*.gql
    plugins:
      - typescript
      - typescript-operations
    config:
      scalars:
        DateTime: string
        Decimal: number
